clang -Xclang -disable-O0-optnone -S -emit-llvm -g date-manipulation.c
date-manipulation.c:11:3: warning: implicit declaration of function 'strptime' is invalid in C99 [-Wimplicit-function-declaration]
  strptime(d, "%B %d %Y %I:%M%p %Z", &ts);
  ^
1 warning generated.
opt -loop-simplify date-manipulation.ll -S -o date-manipulation.ll
opt -mem2reg date-manipulation.ll -S -o date-manipulation_mem2reg.ll
llvm-cbe date-manipulation_mem2reg.ll
clang -g -O3 date-manipulation_mem2reg.cbe.c -lm -o date-manipulation_mem2reg.cbe.exe
date-manipulation_mem2reg.cbe.c:62:10: warning: incompatible redeclaration of library function 'printf' [-Wincompatible-library-redeclaration]
uint32_t printf(uint8_t*, ...);
         ^
date-manipulation_mem2reg.cbe.c:62:10: note: 'printf' is a builtin with type 'int (const char *, ...)'
1 warning generated.
opt date-manipulation.ll -o date-manipulation.bc
llvm-cbe date-manipulation.bc
llvm-dis date-manipulation.bc #just for debugging
clang -g -O3 date-manipulation.cbe.c -lm -o date-manipulation.cbe.exe
date-manipulation.cbe.c:62:10: warning: incompatible redeclaration of library function 'printf' [-Wincompatible-library-redeclaration]
uint32_t printf(uint8_t*, ...);
         ^
date-manipulation.cbe.c:62:10: note: 'printf' is a builtin with type 'int (const char *, ...)'
1 warning generated.
llc -filetype=obj date-manipulation.ll -o date-manipulation.o
clang -g -O3 -lm date-manipulation.o -o date-manipulation.exe
./date-manipulation.exe > date-manipulation.out
./date-manipulation.cbe.exe > date-manipulation.cbe.out
./date-manipulation_mem2reg.cbe.exe > date-manipulation_mem2reg.cbe.out
diff date-manipulation.out date-manipulation.cbe.out
diff date-manipulation.out date-manipulation_mem2reg.cbe.out
